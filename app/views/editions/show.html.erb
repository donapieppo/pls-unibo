<div class="container">
  <h1 class="title">
    <%= @edition.name %> 
  </h1>

  <h2 class="title">
    <%= @edition.academic_year_to_s %>
  </h2>

  <div class="md:flex md:flex-row-reverse my-8 md:my-16">
    <div class="md:pl-4 md:w-1/3 text-right">
      <%= link_to_edit_if_editable @edition, msg: " Modifica i dati dell'edizione." %>
      <%= render Activity::AttributesComponent.new(@edition.project) %>  
      <% if c = @edition.clusters.first %>  
        <div class="">
          All'interno di:<br/>
          <%= link_to c.to_s, c, class: 'underline' %>  
        </div>
      <% end %>
      <hr class="my-2"/>
      <%= render Contact::InlineContactsComponent.new(@edition.contacts) %>  
      <%= render Contact::InlineSpeakersComponent.new(@edition.speakers) %>  

  <%= render Booking::BookingComponent.new(@edition, current_user) %>

      <% @edition.resources.each do |resource| %>
        <div class='mt-4 mx-auto'>
          <%= render Resource::ResourceComponent.new(resource) %>  
        </div>
      <% end %>
    </div>

    <div class="md:w-2/3 md:pr-4">
      <div class="text-xl mb-4">
        Progetto: <%= link_to @edition.project.name.upcase, @edition.project, class: 'underline' %>
      </div>
      <div class="my-2 md:text-xl text-pls font-semibold">
        <div>
          <i class="fas fa-users fa-fw mr-2"></i>
          <%= @edition.audience %>
        </div>
        <%= render Activity::DateAndPlaceComponent.new(@edition) %>  
        <%= render Activity::Extra.new(@edition) %>  
      </div>
      <div class="my-4 lg:text-lg">
        <%= simple_format @edition.description %>  
      </div>
      <div class="my-4 text-gray-700">
        <%= @edition.details %>  
      </div>
      <div>
        <% @edition.snippets.each do |snippet| %>  
          <div class="inline-block">
            <%= link_to snippet.name, snippet_path(snippet, modal: 1), data: { turbo_frame: :modal }, class: 'inline-block text-lg m-1 px-4 py-2 border-2 border-pls-strong bg-gray-50 text-pls-strong hover:bg-gray-200' %>  
          </div>
        <% end %>
      </div>
    </div>
  </div>

  <% unless @all_events.empty? %>  
    <% if @all_events.size == 1 && ! @edition.atomic %>  
      <hr class="my-16"/>
      <%= render Event::EventComponent.new(@all_events.first, current_user, no_edition: true, heading: :h2) %>
    <% else %>
      <div class="my-4">
        <%= render Event::ListComponent.new(events: @events) %>  
        <%= render Event::ListComponent.new(events: @past_events, past: true) %>  
      </div>
    <% end %>
  <% end %>

  <div class="text-center text-base mt-4">
    <%= link_to '[torna al progetto]', @edition.project %>  
  </div>
</div>
